{
    "command": "ceilometer-polling --polling-namespaces central",
    "config_files": [
        {
            "source": "{{ container_config_directory }}/ceilometer.conf",
            "dest": "/etc/ceilometer/ceilometer.conf",
            "owner": "ceilometer",
            "perm": "0600"
        }{% if ceilometer_polling_file_path is defined %},
        {
            "source": "{{ container_config_directory }}/polling.yaml",
            "dest": "/etc/ceilometer/polling.yaml",
            "owner": "ceilometer",
            "perm": "0600"
        }{% endif %}{% if ceilometer_gnocchi_resources_file_path is defined %},
        {
            "source": "{{ container_config_directory }}/gnocchi_resources.yaml",
            "dest": "/etc/ceilometer/gnocchi_resources.yaml",
            "owner": "ceilometer",
            "perm": "0600"
        }{% endif %}{% if ceilometer_policy_file is defined %},
        {
            "source": "{{ container_config_directory }}/{{ ceilometer_policy_file }}",
            "dest": "/etc/ceilometer/{{ ceilometer_policy_file }}",
            "owner": "ceilometer",
            "perm": "0600"
        }{% endif %}{% if should_copy_custom_meter_definitions %},
        {
            "source": "{{ container_config_directory }}/meters.d",
            "dest": "/etc/ceilometer/meters.d",
            "owner": "ceilometer",
            "perm": "0700"
        }{% endif %}{% if should_copy_dynamic_pollster_definitions %},
        {
            "source": "{{ container_config_directory }}/{{ ceilometer_dynamic_pollsters_local_folder }}",
            "dest": "/etc/ceilometer/pollsters.d",
            "owner": "ceilometer",
            "perm": "0700"
        }{% endif %},
        {
            "source": "{{ container_config_directory }}/pipeline.yaml",
            "dest": "/etc/ceilometer/pipeline.yaml",
            "owner": "ceilometer",
            "perm": "0600"
        }
        {% if redis_enable_tls  | bool %},
        {% if not redis_tls_use_openstack_ca | bool%}
        {
            "source": "{{ container_config_directory }}/ca-certificates/{{ redis_tls_cafile }}",
            "dest": "{{ redis_tls_container_path ~ '/' ~ redis_tls_cafile }}",
            "owner": "ceilometer",
            "perm": "0600"
        },
        {% endif %}
        {
            "source": "{{ container_config_directory }}/redis-cert.pem",
            "dest": "{{ redis_tls_container_path ~ '/' ~ redis_tls_certfile }}",
            "owner": "ceilometer",
            "perm": "0600"
        },
        {
            "source": "{{ container_config_directory }}/redis-key.pem",
            "dest": "{{ redis_tls_container_path ~ '/' ~ redis_tls_keyfile }}",
            "owner": "ceilometer",
            "perm": "0600"
        }{% endif %}
    ],
    "permissions": [
        {
            "path": "/var/log/kolla/ceilometer",
            "owner": "ceilometer:ceilometer",
            "recurse": true
        }
    ]
}
